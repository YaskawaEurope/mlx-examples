company: Yaskawa Europe GmbH
author: deGroot
comment: Todo Handling the manual motion.
changelog:
  - version: 0.1.0
    date: 2022-03-22
    author: deGroot
    added:
      - initial version
#   changed:
#   fixed:
#   deprecated:
#   removed:
#   security:
var:
  - kind: in_out
    var:
      - name: io
        description: |
          Interface data for this function.

          Check the data type for more information.
        type: MceCalibrateMotionDeltaIO
        comment: interface data

      # - name: motionDeltas
      #   description: |
      #     Delta and speed data for axis and TCP motion, for this robot.

      #     Check the data type for more information.
      #   type: MceMotionDeltas
      #   comment: delta and speed data for axis and TCP motion, for this robot

      - name: tcpSpeeds
        description: |
          Actual TCP speed per robot, in mm/s.
          This requires parameter `S2C1702=1`.

          TCP speed is only applicable for *manipulators* (e.g. `R1`).

        type: ARRAY [0..3] OF REAL
        comment: "actual TCP speed [mm/s] (requires S2C1702=1)"

      - name: MLX
  - kind: var
    var:
      - name: bMeasuring
        type: BOOL
        comment: measurement active

      - name: bReverse
        type: BOOL
        comment: reverse direction

      # - name: bJogPressed
      #   type: BOOL
      #   comment: one or more jog buttons pressed

      # - name: bUseRotSpeed
      #   type: BOOL
      #   comment: use rotational speed

      # - name: aDirections
      #   type: ARRAY [0..5] OF SINT
      #   comment: "jog motion per axis (0=standstill, 1=positive dir, -1=negative dir)"

      # - name: aDelta
      #   type: ARRAY [0..5] OF REAL
      #   comment: travel distance per relative motion command, scaled to speed

      # - name: bOsrJogPressed
      #   type: BOOL
      #   comment: rising edge

      # - name: bOperatingModeManual
      #   type: BOOL
      #   comment: "operating mode: manual"

      # - name: bTcpSettingsNeedUpdate
      #   type: BOOL
      #   comment: settings for TCP jog need to be updated

      # - name: bMlxNumberChanged
      #   type: BOOL
      #   comment: value has changed

      # - name: bJogTypeChanged
      #   type: BOOL
      #   comment: value has changed

      # - name: bRobotNumberChanged
      #   type: BOOL
      #   comment: value has changed

      # - name: bCoordFrameChanged
      #   type: BOOL
      #   comment: value has changed

      # - name: bToolChanged
      #   type: BOOL
      #   comment: value has changed

      # - name: bUserFrameChanged
      #   type: BOOL
      #   comment: value has changed

      # - name: bUpdateSettingsDone
      #   type: BOOL
      #   comment: "update settings: done"

      # - name: bUpdateSettings
      #   type: BOOL
      #   comment: start update settings

      # - name: aOneShots
      #   type: ARRAY [0..0] OF BOOL
      #   comment: bits for creating one shot signals

      # - name: nCalibrationIndex
      #   type: USINT


      - name: nCalibrationType
        type: USINT

      - name: nMotions
        type: UINT

      - name: fSpeed
        type: REAL

      - name: fSpeedMin
        type: REAL

      - name: fSpeedMax
        type: REAL

      - name: fSpeedMeasured
        type: REAL
        comment: measured speed as percentage from set speed

      # - name: fSpeedDifference
      #   type: REAL

      # - name: nUserFrameSelected
      #   type: USINT
      #   comment: selected value

      # - name: nToolSelected
      #   type: USINT
      #   comment: selected value

      # - name: nMlxNumberSelected
      #   type: USINT
      #   comment: selected value

      - name: nRobotNumberSelected
        type: USINT
        comment: selected value

      # - name: nJogTypeSelected
      #   type: USINT
      #   comment: selected value

      - name: i
      - name: k

      - name: fbJogAxis
        type: MceRelativeAxisMotions

      - name: fbJogTcp
        type: MceRelativeTcpMotions

      - name: fbSelectTool
        type: MLxRobotSelectTool

      - name: fbMovePtp
        type: MLxRobotMoveAxisAbsolute

      - name: fbGetProperties
        type: MLxRobotGetProperties

      - name: fbSetProperties
        type: MLxRobotSetProperties

      - name: stJogAxis
        type: MceRelativeAxisMotionsIO

      - name: stJogTcp
        type: MceRelativeTcpMotionsIO

  - kind: constant
    var:
      - name: CALIBTYPE_AXIS
        type: USINT
        comment: "calibration type: axis"
        default_value: "0"

      - name: CALIBTYPE_TCP
        type: USINT
        comment: "calibration type: TCP"
        default_value: "1"

      - name: NR_OF_MOTIONS
        type: USINT
        comment: "minimum number of relative motions"
        default_value: "5"

      - name: MEAS_LO
        type: USINT
        comment: "measurement at low speed"
        default_value: "0"

      - name: MEAS_HI
        type: USINT
        comment: "measurement at high speed"
        default_value: "1"
