company: Yaskawa Europe GmbH
author: deGroot
since:
description: |
  Find more info about this function in the application descriptions:

  - **todo**

comment: Create a flow of relative linear motion commands
changelog: # order: new to old
  - version: 0.1.0
    date: unreleased #2021-11-24
    author: deGroot
    added:
      - initial version
#   changed:
#   fixed:
#   deprecated:
#   removed:
#   security:
# prerequisite:
  # "option function": endless rotation enabled
var:
  - kind: input
    var:
      - name: systemReady
      - name: robotNumber
      # - name: axisNumber
      #   description: "Axis number (range: `0-5`)"
      #   type: DINT
        # comment: "Axis number [0-5]"
      - name: directions
        description: Start linear motion per axis.
        type: ARRAY [0..5] OF DINT
        comment: "start linear motion per axis (0=standstill, 1=run forward, -1=run reverse)"
        default_value: "[0, 0, 0, 0, 0, 0]"
        legend:
          0: standstill
          1: run forward
          -1: run reverse
      # - name: acceleration
      # - name: deceleration
      # - name: blendFactor
      - name: speed
      - name: delta
        description: |
          Defines the distance to travel per motion command
          (range: `0.01-n mm or deg`) for each axis:

          ```iecst
          [0]     // X
          [1]     // Y
          [2]     // Z
          [3]     // Rx
          [4]     // Ry
          [5]     // Rz
          ```

        type: ARRAY [0..5] OF REAL
        default_value: "[1, 1, 1, 1, 1, 1]"
        comment: defines the travel distance per motion command for each axis [0.01-n mm or deg]
      - name: CoordFrame
        description: |
          Coordinate system for the motion.
        type: DINT
        default_value: "0"
        comment: coordinate system [0=World, 1=Tool, 2=User]
        legend:
          0: World
          1: Tool
          2: Active user frame

  - kind: in_out
    var:
      - name: MLX
  - kind: var
    var:
      - name: state
      - name: run
        type: BOOL
      - name: rotationalAxis
        type: BOOL
      - name: i
      - name: k
      - name: QA
      - name: QAmax
      - name: moveCmd
        type: ARRAY[0..2] OF MLxRobotMoveLinearRelative
