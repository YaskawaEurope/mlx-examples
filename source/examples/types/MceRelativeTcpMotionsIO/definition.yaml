company: Yaskawa Europe GmbH
author: deGroot
comment: IO data for the MceRelativeTcpMotions function
changelog:
  - version: 0.1.0
    date: 2022-03-18
    author: deGroot
    added:
      - first version
#   changed:
#   fixed:
#   deprecated:
#   removed:
#   security:
var:
  - name: nRobotNumber
  - name: nQaMax
  - name: bSystemReady
  - name: bInchingMode

  - name: bUseRotationalSpeed
    description: |
      *Used as input*

      Specifies the type of speed setting.
      This is important for motions where there is not much linear displacement
      of the TCP but instead a large change of orientation (`Rx/Ry/Rz`).

      Check the `MLxRobotMoveLinearRelative` function in the
      [YaskawaMLx library](/lib) for more information.
    type: BOOL
    default_value: "0"
    optional: true
    comment: |
      input: type of speed setting [0=% of linear max, 1=% of rotational max]
    legend:
      0: using % of rated maximum *linear* speed (e.g. `1500mm/s`)
      1: using % of rated max *rotational* speed (e.g. `360deg/s`)

  - name: bIdle
  - name: bBusy
  - name: bCoasting
  - name: bDone
  - name: bOsrSegmentDone
  - name: bError
  - name: nErrorCode

  - name: nCoordFrame
    description: |
      *Used as input*

      Coord frame for the relative motions.

    type: USINT
    default_value: "0"
    comment: |
      input: coord frame for relative motions [0=world, 1=tool, 2=user]
    legend:
      0: World frame
      1: Tool frame
      2: User frame

  - name: fSpeed
    description: |
      *Used as input*

      Speed as percentage of rated maximum (range: `0.01-100%`).

      The rated maximum depends on the setting of
      [bUseRotationalSpeed](#buserotationalspeed).
    type: REAL
    comment: "input: speed rate [0.01 to 100% of maximum]"
    default_value: 2

  - name: aDirections
    description: |
      *Used as input*

      Start the axis motion per axis.

      ```iecst
      [0]     // X
      [1]     // Y
      [2]     // Z
      [3]     // Rx
      [4]     // Ry
      [5]     // Rz
      ```

    type: ARRAY [0..5] OF SINT
    comment: "input: start axis motion per axis (0=standstill, 1=run forward, -1=run reverse)"
    default_value: "[0, 0, 0, 0, 0, 0]"
    legend:
      0: standstill
      1: run forward
      -1: run reverse


  - name: aDelta
    description: |
      *Used as input*

      Travel distance per relative motion command
      (range: `0-n mm or deg`) per axis:

      ```iecst
      [0]     // X
      [1]     // Y
      [2]     // Z
      [3]     // Rx
      [4]     // Ry
      [5]     // Rz
      ```

      It is recommended to scale the deltas to the set speed using
      [MceScaleMotionDelta](../../functions/mcescalemotiondelta).

    type: ARRAY [0..5] OF REAL
    default_value: "[1, 1, 1, 1, 1, 1]"
    comment: |
      input: travel distance per relative motion command
      for each axis [0 to n mm or deg]

  - name: nSmMotions
    description: |
      State machine 1: Handling the relative motion commands.

    type: UINT
    default_value: "0"
    comment: "in/out: state machine 1: motion commands"
    legend:
      "00": idle
      "10": move n
      "20": move n+1
      "30": move n+2
      "40": done
      "99": error
